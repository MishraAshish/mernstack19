"use strict";(self.webpackChunkreactapp=self.webpackChunkreactapp||[]).push([[651],{651:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var n=r(540),o=r(468),c=r(857),l=r(83),a=function(){return console.log("Product "),function(e){l.A.get("http://localhost:9000/product/api/getproducts").then((function(t){var r,n=t.data;console.log("get products response ",n),e((r=n,{type:c.eA,payload:{products:r}}))})).catch((function(e){console.log("Error While Saving Product",e)}))}},u=r(161);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}const s=function(e){var t,r,c=e.product,l=(t=(0,n.useState)(!1),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,c,l,a=[],u=!0,i=!1;try{if(c=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=c.call(r)).done)&&(a.push(n.value),a.length!==t);u=!0);}catch(e){i=!0,o=e}finally{try{if(!u&&null!=r.return&&(l=r.return(),Object(l)!==l))return}finally{if(i)throw o}}return a}}(t,r)||function(e,t){if(e){if("string"==typeof e)return i(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?i(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=l[0],s=l[1],f=(0,o.wA)();return n.createElement("ul",{className:"product col-md-11"},n.createElement("li",{className:"product",onClick:function(){return s(!a)}},c.name,a?n.createElement("ul",null,n.createElement("li",null,c.price),n.createElement("li",null,c.desc),n.createElement("li",null,c.rating),n.createElement("button",{onClick:function(){return function(e){f((0,u.kR)(e))}(c)}},"Add Item")):n.createElement("div",null)))},f=function(){var e=(0,o.d4)((function(e){return e.productReducer.Products})),t=(0,o.wA)();return console.log(e),(0,n.useEffect)((function(){!e||0!=e.length||t(a())}),[]),n.createElement(n.Fragment,null,e&&e.length>0?e.map((function(e){return n.createElement(s,{product:e,key:e._id})})):n.createElement("div",null,n.createElement("h4",null,"No Products To Display")))},d=function(e){var t=(0,n.useRef)(null),r=(0,n.useRef)(null),c=(0,n.useRef)(null),u=(0,n.useRef)(null),i=(0,o.d4)((function(e){return e.productReducer.Product})),s=(0,o.wA)();return(0,n.useEffect)((function(){t.current.value=i.name,r.current.value=i.price,c.current.value=i.desc,u.current.value=i.rating}),[]),n.createElement("div",{className:"col-md-12"},n.createElement("h1",{className:"col-md-12"},"Product component"),n.createElement("form",{className:"form componentClass"},n.createElement("div",{className:"form col-md-8"},n.createElement("div",{className:"col-md-12"},n.createElement("b",null,"Product Name"),n.createElement("input",{type:"text",className:"form-control col-md-6 name",ref:t,maxLength:25,placeholder:"Product Name"})),n.createElement("div",{className:"col-md-12"},n.createElement("b",null,"Price "),n.createElement("input",{type:"number",className:"form-control col-md-6",ref:r,placeholder:"Product Price"})),n.createElement("div",{className:"col-md-12"},n.createElement("b",null,"Description "),n.createElement("input",{type:"text",className:"form-control col-md-6",ref:c,placeholder:"Please Describe the product"})),n.createElement("div",{className:"col-md-12"},n.createElement("b",null,"Ratings "),n.createElement("input",{type:"text",className:"form-control col-md-6",ref:u,placeholder:"Ratings"})),n.createElement("input",{type:"button",className:"form-control btn btn-primary col-md-3",value:"Save Product",onClick:function(e){var n={name:t.current.value,price:r.current.value,desc:c.current.value,rating:u.current.value};alert("We are going to save this product!!! "+JSON.stringify(n)),s(function(e){return console.log("Product ",e),function(t){l.A.post("http://localhost:9000/product/api/saveProduct",e).then((function(e){var r=e.data;console.log("product save response ",r),t(a())})).catch((function(e){console.log("Error While Saving Product",e)}))}}(n)),e.preventDefault()}}))),n.createElement("hr",null),n.createElement(f,null))}},161:(e,t,r)=>{r.d(t,{Y8:()=>s,gp:()=>i,kR:()=>a,o_:()=>u,t:()=>l});var n=r(857),o=r(83);function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}var l=function(e,t){return console.log("cart List ",e),function(r){o.A.post("http://localhost:9000/cart/api/saveUserCart",{cart:e,userid:t}).then((function(e){var t=e.data;console.log("product save response ",t),r(fetchProducts())})).catch((function(e){console.log("Error While Saving Product",e)}))}},a=function(e){return{type:n.SJ,payload:{selectedProduct:e}}},u=function(e,t){return{type:n.u3,payload:{productId:e,qty:t}}},i=function(e){return{type:n.Zk,payload:{productId:e}}},s=function(e){return console.log("Cart "),function(t){o.A.post("http://localhost:9000/cart/api/getusercart",{userid:e}).then((function(e){var r=e.data;console.log("get products response ",r);var n,o=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return c(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){u=!0,l=e},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw l}}}}(r.cart);try{for(o.s();!(n=o.n()).done;){var l=n.value;console.log("item in for of",l);var u=t(a(l));t(u)}}catch(e){o.e(e)}finally{o.f()}})).catch((function(e){console.log("Error While Saving Product",e)}))}}}}]);